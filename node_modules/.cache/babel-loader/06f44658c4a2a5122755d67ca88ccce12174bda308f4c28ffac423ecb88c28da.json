{"ast":null,"code":"/* eslint-disable */\nimport { ref } from 'vue';\nimport CharacterCard from \"../Cards/CharacterCard\";\nimport CharacterGeneratorRoller from \"./CharacterGeneratorRoller\";\nimport { fetchCharacterNameWithGender, fetchCharacterNameWithStyle, fetchNameGenders, fetchNameStyles } from './NameGenerator';\nexport default {\n  components: {\n    CharacterCard,\n    CharacterGeneratorRoller\n  },\n  props: {\n    gameSystemKey: {\n      type: String\n    }\n  },\n  data() {\n    return {\n      baseUrl: 'http://localhost:3000/api/v1/character_generator',\n      characterName: \"\",\n      gameSystem: {},\n      // Want to get key from params, retrieve id, name, uses ancestry\n      loading: true\n    };\n  },\n  setup() {\n    const characterName = ref(\"\");\n    const selectedAncestry = ref(\"\");\n    const selectedLineage = ref(\"\");\n    const selectedClass = ref(\"\");\n    const selectedSubclass = ref(\"\");\n    const selectedNameGender = ref(\"any\");\n    const selectedNameStyle = ref(\"\");\n    const sheetAncestry = ref(\"\");\n    const sheetLineage = ref(\"\");\n    const sheetClass = ref(\"\");\n    const sheetSubclass = ref(\"\");\n    const availableAncestries = ref([]);\n    const availableLineages = ref([]);\n    const availableClasses = ref([]);\n    const availableNameGenders = ref([]);\n    const availableNameStyles = ref([]);\n    const availableSubclasses = ref([]);\n    const sheetAvailableSubclasses = ref([]);\n    const useAncestry = ref(false);\n    return {\n      availableAncestries,\n      availableLineages,\n      availableClasses,\n      availableNameGenders,\n      availableNameStyles,\n      availableSubclasses,\n      characterName,\n      selectedAncestry,\n      selectedLineage,\n      selectedClass,\n      selectedSubclass,\n      selectedNameGender,\n      selectedNameStyle,\n      sheetAncestry,\n      sheetAvailableSubclasses,\n      sheetClass,\n      sheetSubclass,\n      useAncestry\n    };\n  },\n  methods: {\n    fetchGameSystem() {\n      return fetch(`${this.baseUrl}/game_system/${this.gameSystemKey}`, {\n        method: 'get'\n      }).then(res => {\n        return res.json();\n      }).then(res => {\n        this.gameSystem = res.game_system;\n        this.loading = false;\n      });\n    },\n    fetchAncestries() {\n      fetch(`${this.baseUrl}/ancestries/${this.gameSystem.id}`, {\n        method: 'get'\n      }).then(res => {\n        return res.json();\n      }).then(res => {\n        this.availableAncestries = res.ancestries;\n        this.useAncestry = this.availableAncestries?.length > 0;\n      });\n    },\n    fetchLineages() {\n      fetch(`${this.baseUrl}/lineages/${this.gameSystem.id}/${this.ancestryId}`, {\n        method: 'get'\n      }).then(res => {\n        return res.json();\n      }).then(res => {\n        this.availableLineages = res.lineages;\n      });\n    },\n    fetchClasses() {\n      fetch(`${this.baseUrl}/player_classes/${this.gameSystem.id}`, {\n        method: 'get'\n      }).then(res => {\n        return res.json();\n      }).then(res => {\n        this.availableClasses = res.player_classes;\n      });\n    },\n    fetchSubclasses() {\n      const activeClass = !isNaN(this.selectedClass) ? this.selectedClass : this.sheetClass;\n      return fetch(`${this.baseUrl}/player_subclasses/${this.gameSystem.id}/${activeClass}`, {\n        method: 'get'\n      }).then(res => {\n        return res.json();\n      }).then(res => {\n        this.availableSubclasses = res.player_subclasses;\n      });\n    },\n    selectAncestry(ancestryId) {\n      this.selectedAncestry = ancestryId;\n      this.fetchLineages();\n    },\n    selectLineage(lineageId) {\n      this.selectedLineage = lineageId;\n    },\n    selectClass(classId) {\n      this.selectedClass = classId;\n      this.selectedSubclass = null;\n      this.fetchSubclasses();\n    },\n    selectSubclass(subclassId) {\n      this.selectedSubclass = subclassId;\n    },\n    selectNameGender(genderId) {\n      this.selectedNameGender = genderId;\n    },\n    selectNameStyle(styleId) {\n      this.selectedNameStyle = styleId;\n    },\n    generateCharacter() {\n      if (this.useAncestry) {\n        if (this.selectedAncestry) {\n          this.sheetAncestry = this.selectedAncestry;\n        } else {\n          const ancestryIndex = Math.floor(Math.random() * this.availableAncestries.length);\n          const ancestryId = this.availableAncestries[ancestryIndex].id;\n          this.sheetAncestry = ancestryId;\n        }\n        if (this.selectedLineage) {\n          this.sheetLineage = this.selectedLineage;\n        } else {\n          const lineageIndex = Math.floor(Math.random() * this.availableLineages.length);\n          this.lineageId = this.availableLineages[lineageIndex];\n        }\n      }\n      this.sheetAvailableSubclasses = this.availableSubclasses;\n      if (!this.selectedClass) {\n        const classIndex = Math.floor(Math.random() * this.availableClasses.length);\n        this.sheetClass = this.availableClasses[classIndex].id;\n        this.fetchSubclasses().then(() => {\n          if (!this.selectedSubclass && this.availableSubclasses) {\n            const subclassIndex = Math.floor(Math.random() * this.availableSubclasses.length);\n            this.sheetSubclass = this.availableSubclasses[subclassIndex].id;\n          }\n        });\n      } else {\n        this.sheetClass = this.selectedClass;\n        if (this.availableSubclasses) {\n          if (this.selectedSubclass) {\n            this.sheetSubclass = this.selectedSubclass;\n          } else {\n            const subclassIndex = Math.floor(Math.random() * this.availableSubclasses.length);\n            this.sheetSubclass = this.availableSubclasses[subclassIndex].id;\n          }\n        }\n      }\n      const url = `${this.baseUrl}/character_name/${this.gameSystem.id}`;\n      if (this.availableNameStyles.length) {\n        fetchCharacterNameWithStyle(url, this.selectedNameStyle, this.selectAncestry).then(res => {\n          this.characterName = res;\n        });\n      } else {\n        fetchCharacterNameWithGender(url, this.selectedNameGender, this.selectAncestry).then(res => {\n          this.characterName = res;\n        });\n      }\n    }\n  },\n  created() {\n    this.fetchGameSystem().then(() => {\n      this.fetchAncestries();\n      this.fetchClasses();\n      fetchNameStyles(this.baseUrl, this.gameSystem.id).then(res => {\n        if (res?.length > 0) {\n          this.availableNameStyles = res;\n        } else {\n          fetchNameGenders(this.baseUrl).then(res => {\n            this.availableNameGenders = res;\n          });\n        }\n      });\n    });\n  }\n};","map":{"version":3,"names":["ref","CharacterCard","CharacterGeneratorRoller","fetchCharacterNameWithGender","fetchCharacterNameWithStyle","fetchNameGenders","fetchNameStyles","components","props","gameSystemKey","type","String","data","baseUrl","characterName","gameSystem","loading","setup","selectedAncestry","selectedLineage","selectedClass","selectedSubclass","selectedNameGender","selectedNameStyle","sheetAncestry","sheetLineage","sheetClass","sheetSubclass","availableAncestries","availableLineages","availableClasses","availableNameGenders","availableNameStyles","availableSubclasses","sheetAvailableSubclasses","useAncestry","methods","fetchGameSystem","fetch","method","then","res","json","game_system","fetchAncestries","id","ancestries","length","fetchLineages","ancestryId","lineages","fetchClasses","player_classes","fetchSubclasses","activeClass","isNaN","player_subclasses","selectAncestry","selectLineage","lineageId","selectClass","classId","selectSubclass","subclassId","selectNameGender","genderId","selectNameStyle","styleId","generateCharacter","ancestryIndex","Math","floor","random","lineageIndex","classIndex","subclassIndex","url","created"],"sources":["/Users/lappy486/Code/pwf-games/src/components/CharacterGenerators/CharacterGeneratorPage.vue"],"sourcesContent":["<template>\n  <div className=\"character-generator-page\">\n    <CharacterGeneratorRoller :availableAncestries=\"availableAncestries\"\n                              :availableClasses=\"availableClasses\"\n                              :availableNameGenders=\"availableNameGenders\"\n                              :availableNameStyles=\"availableNameStyles\"\n                              :availableSubclasses=\"selectedClass ? availableSubclasses : []\"\n                              :loading=\"loading\"\n                              :systemName=\"gameSystem.name\"\n                              @roll=\"generateCharacter()\"\n                              @selectAncestry=\"e => selectAncestry(e)\"\n                              @selectClass=\"e => selectClass(e)\"\n                              @selectGender=\"e => selectNameGender(e)\" \n                              @selectStyle=\"e => selectNameStyle(e)\"\n                              @selectSubclass=\"e => selectSubclass(e)\" />\n    <CharacterCard :availableAncestries=\"availableAncestries\"\n                   :availableClasses=\"availableClasses\"\n                   :availableSubclasses=\"sheetAvailableSubclasses\"\n                   :presetCharName=\"characterName\"\n                   :selectedAncestry=\"sheetAncestry\"\n                   :selectedClass=\"sheetClass\"\n                   :selectedSubclass=\"sheetSubclass\" />\n    </div>\n</template>\n\n<script>\n/* eslint-disable */\nimport { ref } from 'vue';\n\nimport CharacterCard from \"../Cards/CharacterCard\";\nimport CharacterGeneratorRoller from \"./CharacterGeneratorRoller\";\n\nimport { fetchCharacterNameWithGender, fetchCharacterNameWithStyle, fetchNameGenders, fetchNameStyles } from './NameGenerator';\n\nexport default {\n  components: {\n    CharacterCard,\n    CharacterGeneratorRoller\n  },\n  props: {\n    gameSystemKey: {\n      type: String\n    }\n  },\n  data () {\n    return {\n      baseUrl: 'http://localhost:3000/api/v1/character_generator',\n      characterName: \"\",\n      gameSystem: {},\n      // Want to get key from params, retrieve id, name, uses ancestry\n      loading: true\n    }\n  },\n  setup () {\n    const characterName = ref(\"\");\n    const selectedAncestry = ref(\"\");\n    const selectedLineage = ref(\"\");\n    const selectedClass = ref(\"\");\n    const selectedSubclass = ref(\"\");\n    const selectedNameGender = ref(\"any\");\n    const selectedNameStyle = ref(\"\");\n    const sheetAncestry = ref(\"\");\n    const sheetLineage = ref(\"\");\n    const sheetClass = ref(\"\");\n    const sheetSubclass = ref(\"\");\n\n    const availableAncestries = ref([]);\n    const availableLineages = ref([]);\n    const availableClasses = ref([]);\n    const availableNameGenders = ref([]);\n    const availableNameStyles = ref([]);\n    const availableSubclasses = ref([]);\n    const sheetAvailableSubclasses = ref([]);\n\n    const useAncestry = ref(false);\n\n    return {\n      availableAncestries,\n      availableLineages,\n      availableClasses,\n      availableNameGenders,\n      availableNameStyles,\n      availableSubclasses,\n      characterName,\n      selectedAncestry,\n      selectedLineage,\n      selectedClass,\n      selectedSubclass,\n      selectedNameGender,\n      selectedNameStyle,\n      sheetAncestry,\n      sheetAvailableSubclasses,\n      sheetClass,\n      sheetSubclass,\n      useAncestry\n    }\n  },\n  methods: {\n    fetchGameSystem () {\n      return fetch(`${this.baseUrl}/game_system/${this.gameSystemKey}`, {\n        method: 'get'\n      }).then((res) => {\n        return res.json();\n      }).then((res) => {\n        this.gameSystem = res.game_system;\n        this.loading = false;\n      });\n    },\n    fetchAncestries () {\n      fetch(`${this.baseUrl}/ancestries/${this.gameSystem.id}`, {\n        method: 'get'\n      }).then((res) => {\n        return res.json();\n      }).then((res) => {\n        this.availableAncestries = res.ancestries;\n        this.useAncestry = this.availableAncestries?.length > 0;\n      });\n    },\n    fetchLineages () {\n      fetch(`${this.baseUrl}/lineages/${this.gameSystem.id}/${this.ancestryId}`, {\n        method: 'get'\n      }).then((res) => {\n        return res.json();\n      }).then((res) => {\n        this.availableLineages = res.lineages;\n      }); \n    },\n    fetchClasses () {\n      fetch(`${this.baseUrl}/player_classes/${this.gameSystem.id}`, {\n        method: 'get'\n      }).then((res) => {\n        return res.json();\n      }).then((res) => {\n        this.availableClasses = res.player_classes;\n      });\n    },\n    fetchSubclasses () {\n      const activeClass = !isNaN(this.selectedClass) ? this.selectedClass : this.sheetClass;\n      return fetch(`${this.baseUrl}/player_subclasses/${this.gameSystem.id}/${activeClass}`, {\n        method: 'get'\n      }).then((res) => {\n        return res.json();\n      }).then((res) => {\n        this.availableSubclasses = res.player_subclasses;\n      });\n    },\n    selectAncestry (ancestryId) {\n      this.selectedAncestry = ancestryId;\n      this.fetchLineages();\n    },\n    selectLineage (lineageId) {\n      this.selectedLineage = lineageId;\n    },\n    selectClass (classId) {\n      this.selectedClass = classId;\n      this.selectedSubclass = null;\n      this.fetchSubclasses();\n    },\n    selectSubclass (subclassId) {\n      this.selectedSubclass = subclassId;\n    },\n    selectNameGender (genderId) {\n      this.selectedNameGender = genderId;\n    },\n    selectNameStyle (styleId) {\n      this.selectedNameStyle = styleId;\n    },\n    generateCharacter() {\n      if (this.useAncestry) {\n        if (this.selectedAncestry) {\n          this.sheetAncestry = this.selectedAncestry;\n        } else {\n          const ancestryIndex = Math.floor(Math.random() * this.availableAncestries.length);\n          const ancestryId = this.availableAncestries[ancestryIndex].id\n          this.sheetAncestry = ancestryId;\n        }\n\n        if(this.selectedLineage) {\n          this.sheetLineage = this.selectedLineage\n        } else {\n          const lineageIndex = Math.floor(Math.random() * this.availableLineages.length);\n          this.lineageId = this.availableLineages[lineageIndex];\n        }\n      }\n\n      this.sheetAvailableSubclasses =  this.availableSubclasses;\n\n      if (!this.selectedClass) {\n        const classIndex = Math.floor(Math.random() * (this.availableClasses.length))\n        this.sheetClass = this.availableClasses[classIndex].id;\n      \n        this.fetchSubclasses().then(() => {\n          if (!this.selectedSubclass && this.availableSubclasses) {\n            const subclassIndex = Math.floor(Math.random() * (this.availableSubclasses.length))\n            this.sheetSubclass = this.availableSubclasses[subclassIndex].id;\n          }\n        });\n      } else {\n        this.sheetClass = this.selectedClass;\n\n        if (this.availableSubclasses) {\n          if (this.selectedSubclass){\n            this.sheetSubclass = this.selectedSubclass;\n          } else {\n            const subclassIndex = Math.floor(Math.random() * (this.availableSubclasses.length))\n            this.sheetSubclass = this.availableSubclasses[subclassIndex].id;\n          }\n        }\n      }\n\n\n      const url = `${this.baseUrl}/character_name/${this.gameSystem.id}`;\n\n      if (this.availableNameStyles.length) {\n        fetchCharacterNameWithStyle(url, this.selectedNameStyle, this.selectAncestry)\n          .then(res => {\n            this.characterName = res;\n          });\n      } else {\n        fetchCharacterNameWithGender(url, this.selectedNameGender, this.selectAncestry)\n          .then(res => {\n            this.characterName = res;\n          });\n      }\n    },\n    \n  },\n  created () {\n    this.fetchGameSystem().then(() => {\n      this.fetchAncestries();\n      this.fetchClasses();\n      fetchNameStyles(this.baseUrl, this.gameSystem.id).then(res => {\n        if (res?.length > 0) {\n          this.availableNameStyles = res;\n        } else {\n          fetchNameGenders(this.baseUrl).then(res => {\n            this.availableNameGenders = res;\n          });\n        }\n      });\n    });\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"./CharacterGeneratorPage.scss\";\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}