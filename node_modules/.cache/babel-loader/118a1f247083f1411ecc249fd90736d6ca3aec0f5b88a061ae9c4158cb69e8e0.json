{"ast":null,"code":"import { computed, ref } from 'vue';\nimport StandardButton from \"../StandardComponents/StandardButton/StandardButton\";\nimport StandardDropdown from \"../StandardComponents/StandardDropdown/StandardDropdown\";\n// import StandardMultiselect from \"../StandardComponents/StandardMultiselect/StandardMultiselect\";\n\nexport default {\n  props: {\n    availableAncestries: {\n      type: Array\n    },\n    availableClasses: {\n      type: Array\n    },\n    initCharAncestry: {\n      type: String,\n      default: ''\n    },\n    initCharClass: {\n      type: String,\n      default: ''\n    },\n    loading: {\n      type: Boolean,\n      default: true\n    },\n    systemName: {\n      type: String,\n      default: ''\n    }\n  },\n  components: {\n    StandardButton,\n    StandardDropdown\n    //   StandardMultiselect\n  },\n\n  data() {\n    return {\n      baseUrl: 'http://localhost:3000/api/v1/character_generator'\n    };\n  },\n  setup(props) {\n    const useAncestry = computed(() => {\n      return props.availableAncestries?.length > 0;\n    });\n    const availableNameStyles = ref([]);\n    const availableNameGenders = ref([]);\n    return {\n      availableNameGenders,\n      availableNameStyles,\n      useAncestry\n    };\n  },\n  methods: {\n    fetchNameStyles() {\n      fetch(`${this.baseUrl}/name_styles`, {\n        method: 'get'\n      }).then(res => {\n        return res.json();\n      }).then(res => {\n        this.availableNameStyles = res.name_styles;\n        if (this.availableNameStyles?.length === 0) {\n          this.fetchNameGenders();\n        }\n      });\n    },\n    fetchNameGenders() {\n      fetch(`${this.baseUrl}/genders`, {\n        method: 'get'\n      }).then(res => {\n        return res.json();\n      }).then(res => {\n        this.availableNameGenders = res.gender_options;\n      });\n    }\n  },\n  created() {\n    this.fetchNameStyles();\n  }\n};","map":{"version":3,"names":["computed","ref","StandardButton","StandardDropdown","props","availableAncestries","type","Array","availableClasses","initCharAncestry","String","default","initCharClass","loading","Boolean","systemName","components","data","baseUrl","setup","useAncestry","length","availableNameStyles","availableNameGenders","methods","fetchNameStyles","fetch","method","then","res","json","name_styles","fetchNameGenders","gender_options","created"],"sources":["/Users/lappy486/Code/pwf-games/src/components/CharacterGenerators/CharacterGeneratorRoller.vue"],"sourcesContent":["<template>\n  <div class=\"character-generator-roller\">\n    <h1 v-if=\"!loading\">\n      <span>Character Roller</span>\n      <span class=\"system-name\">{{ systemName }}</span>\n    </h1>\n    <div class=\"base-options roller-options\">\n      <StandardDropdown v-if=\"useAncestry\"\n                        placeholderText=\"Ancestry\"\n                        :options=\"availableAncestries\"\n                        selectId=\"char-ancestry-dropdown\"\n                        @select=\"e => $emit('selectAncestry', e)\"\n                        :selectedValue=\"initCharAncestry\" />\n      <StandardDropdown placeholderText=\"Class\"\n                        :options=\"availableClasses\"\n                        selectId=\"char-class-dropdown\"\n                        @select=\"e => $emit('selectClass', e)\"\n                        :selectedValue=\"initCharClass\" />\n      <!-- <StandardMultiselect :selectOptions=\"availableClasses\" /> -->\n      <StandardDropdown placeholderText=\"Name Gender\"\n                        :options=\"availableGenders\"\n                        selectId=\"char-gender-dropdown\"\n                        @select=\"e => $emit('selectGender', e)\" />\n    </div>\n    <div class=\"footer\">\n      <StandardButton @click=\"e => $emit('roll', e)\">\n        <img src=\"@/assets/d100.png\" alt=\"Roll a character\" />\n      </StandardButton>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { computed, ref } from 'vue';\n\nimport StandardButton from \"../StandardComponents/StandardButton/StandardButton\";\nimport StandardDropdown from \"../StandardComponents/StandardDropdown/StandardDropdown\";\n// import StandardMultiselect from \"../StandardComponents/StandardMultiselect/StandardMultiselect\";\n\nexport default {\n  props: {\n    availableAncestries: {\n      type: Array\n    },\n    availableClasses: {\n      type: Array\n    },\n    initCharAncestry: {\n      type: String,\n      default: ''\n    },\n    initCharClass: {\n      type: String,\n      default: ''\n    },\n    loading: {\n      type: Boolean,\n      default: true\n    },\n    systemName: {\n      type: String,\n      default: ''\n    }\n  },\n  components: {\n    StandardButton,\n    StandardDropdown\n  //   StandardMultiselect\n  },\n  data () {\n    return {\n      baseUrl: 'http://localhost:3000/api/v1/character_generator',\n    }\n  },\n  setup (props) {\n    const useAncestry = computed(() => {\n      return props.availableAncestries?.length > 0;\n    });\n\n    const availableNameStyles = ref([]);\n    const availableNameGenders = ref([]);\n\n    return {\n      availableNameGenders,\n      availableNameStyles,\n      useAncestry\n    }\n  },\n  methods: {\n    fetchNameStyles () {\n      fetch(`${this.baseUrl}/name_styles`, {\n        method: 'get'\n      }).then((res) => {\n        return res.json();\n      }).then((res) => {\n        this.availableNameStyles = res.name_styles;\n        if (this.availableNameStyles?.length === 0) {\n          this.fetchNameGenders();\n        }\n      })\n    },\n    fetchNameGenders () {\n      fetch(`${this.baseUrl}/genders`, {\n        method: 'get'\n      }).then((res) => {\n        return res.json();\n      }).then((res) => {\n        this.availableNameGenders = res.gender_options;\n      })\n    }\n  },\n  created () {\n    this.fetchNameStyles();\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"./CharacterGeneratorRoller.scss\";\n</style>"],"mappings":"AAiCA,SAASA,QAAQ,EAAEC,GAAE,QAAS,KAAK;AAEnC,OAAOC,cAAa,MAAO,qDAAqD;AAChF,OAAOC,gBAAe,MAAO,yDAAyD;AACtF;;AAEA,eAAe;EACbC,KAAK,EAAE;IACLC,mBAAmB,EAAE;MACnBC,IAAI,EAAEC;IACR,CAAC;IACDC,gBAAgB,EAAE;MAChBF,IAAI,EAAEC;IACR,CAAC;IACDE,gBAAgB,EAAE;MAChBH,IAAI,EAAEI,MAAM;MACZC,OAAO,EAAE;IACX,CAAC;IACDC,aAAa,EAAE;MACbN,IAAI,EAAEI,MAAM;MACZC,OAAO,EAAE;IACX,CAAC;IACDE,OAAO,EAAE;MACPP,IAAI,EAAEQ,OAAO;MACbH,OAAO,EAAE;IACX,CAAC;IACDI,UAAU,EAAE;MACVT,IAAI,EAAEI,MAAM;MACZC,OAAO,EAAE;IACX;EACF,CAAC;EACDK,UAAU,EAAE;IACVd,cAAc;IACdC;IACF;EACA,CAAC;;EACDc,IAAGA,CAAA,EAAK;IACN,OAAO;MACLC,OAAO,EAAE;IACX;EACF,CAAC;EACDC,KAAIA,CAAGf,KAAK,EAAE;IACZ,MAAMgB,WAAU,GAAIpB,QAAQ,CAAC,MAAM;MACjC,OAAOI,KAAK,CAACC,mBAAmB,EAAEgB,MAAK,GAAI,CAAC;IAC9C,CAAC,CAAC;IAEF,MAAMC,mBAAkB,GAAIrB,GAAG,CAAC,EAAE,CAAC;IACnC,MAAMsB,oBAAmB,GAAItB,GAAG,CAAC,EAAE,CAAC;IAEpC,OAAO;MACLsB,oBAAoB;MACpBD,mBAAmB;MACnBF;IACF;EACF,CAAC;EACDI,OAAO,EAAE;IACPC,eAAcA,CAAA,EAAK;MACjBC,KAAK,CAAE,GAAE,IAAI,CAACR,OAAQ,cAAa,EAAE;QACnCS,MAAM,EAAE;MACV,CAAC,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAK;QACf,OAAOA,GAAG,CAACC,IAAI,CAAC,CAAC;MACnB,CAAC,CAAC,CAACF,IAAI,CAAEC,GAAG,IAAK;QACf,IAAI,CAACP,mBAAkB,GAAIO,GAAG,CAACE,WAAW;QAC1C,IAAI,IAAI,CAACT,mBAAmB,EAAED,MAAK,KAAM,CAAC,EAAE;UAC1C,IAAI,CAACW,gBAAgB,CAAC,CAAC;QACzB;MACF,CAAC;IACH,CAAC;IACDA,gBAAeA,CAAA,EAAK;MAClBN,KAAK,CAAE,GAAE,IAAI,CAACR,OAAQ,UAAS,EAAE;QAC/BS,MAAM,EAAE;MACV,CAAC,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAK;QACf,OAAOA,GAAG,CAACC,IAAI,CAAC,CAAC;MACnB,CAAC,CAAC,CAACF,IAAI,CAAEC,GAAG,IAAK;QACf,IAAI,CAACN,oBAAmB,GAAIM,GAAG,CAACI,cAAc;MAChD,CAAC;IACH;EACF,CAAC;EACDC,OAAMA,CAAA,EAAK;IACT,IAAI,CAACT,eAAe,CAAC,CAAC;EACxB;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}